@import "../../common/sass/common.scss";

html{
    // overflow: auto; 
}
.game_body{
    overflow: hidden;
    background: #DBAA51;
}
.blackscreen{
    display: none;
}
.game_container{
    position: relative;
    height: 0px;
    padding-bottom: 48.95%;
}

section{
    padding: 0;
}
#score{
    position: absolute;
    top: 18%;
    left: 2.09%;
    z-index: 1;
    p{
        font-size: 20px;
        letter-spacing: 3px;
    }
    p:nth-child(1){
        color: $color_brown;
        -webkit-text-stroke: 5px $color_brown;
        font-weight: bold;
        span{
            font-size: 48px;
            font-weight: bold;
            transform: scale(1.3);
            margin-left: 15px;
            visibility: hidden;
        }
    }
    p:nth-child(2){
        position: absolute;
        color: #fff;
        top: 0;
    }
}
#scorenum{
    color: $color_red;
    transform-origin: 0% 100%;
    font-size: 48px;
    transform: scale(1);
    font-weight: bold;
    display: inline-block;
    margin-left: 5px;
}
#time{
    position: absolute;
    width: 100%;
    text-align: center;
    top: 21%;
    z-index: 1;
    p{
        color: #fff;
        font-size: 24px;
        letter-spacing: 3px;
        transform: scale(1.5);
        letter-spacing: 17px;
    }
    #outerword{
        color: $color_brown;
        -webkit-text-stroke: 5px $color_brown;
        font-weight: bold;
    }
    #innerword{
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        span{
            color: #fff;
        }
    }
}
.title_decoration{
    display: none;
}
#introduce{
    @include pos(32.7%,0,auto,0);
    z-index: 1;
    max-width: 671px;
    width: 55%;
    img{
        &:nth-child(2){
            display: none;
        }
        &:nth-child(3){
            display: none;
        }
        &:nth-child(4){
            display: none;
        }
    }}
@keyframes keyshow{
    from{
        opacity: 0;
    }
    to{
        opacity: 1;
    }
}
#start{
    @include pos(53.6303%,0,auto,0);
    z-index: 1;
}
.title_decoration{
    @include pos(18.104%,0,auto,0);
    z-index: 1;
    max-width: 595px;
    width: 30.9%;
}
#timeup{
    max-width: 860px;
    width: 44.79%;
    @include pos(10%,0,auto,0);
    z-index: 1;
    text-align: center;
    display: none;
    img{
        opacity: 0;
        &:nth-child(1){
            max-width: 145px;
            width: 16.8%;
            animation: movedown 1s forwards;
        }
        &:nth-child(2){
            max-width: 55px;
            width: 6.4%;
            animation: movedown 1s 0.2s forwards;
        }
        &:nth-child(3){
            max-width: 151px;
            width: 17.5%;
            animation: movedown 1s 0.3s forwards;
        }
        &:nth-child(4){
            max-width: 124px;
            width: 14.4%;
            animation: movedown 1s 0.4s forwards;
        }
        &:nth-child(5){
            max-width: 160px;
            width: 18.6%;
            animation: movedown 1s 0.5s forwards;
            margin-left: 1%;
        }
        &:nth-child(6){
            max-width: 137px;
            width: 15.9%;
            animation: movedown 1s 0.6s forwards;
        }
    }
}
@keyframes movedown{
    0% {
        opacity: 0;
		transform: translateY(0px);
	}

	12% {
		transform: translateY(10.89px);
	}

	24% {
		transform: translateY(43.56px);
	}

	36% {
		transform: translateY(98.01px);
	}

	54% {
		transform: translateY(75.02px);
	}

	74% {
		transform: translateY(98.37px);
	}

	82% {
		transform: translateY(93.75px);
	}

	92% {
		transform: translateY(99.34px);
	}

	96% {
		transform: translateY(98.46px);
	}

	100% {
        opacity: 1;
		transform: translateY(100px);
	}
}

.choco_bonus{
    width: 100%;
    height: 100vh;
    background: rgba(0,0,0,.65);
    position: absolute;
    z-index: 11;
    display: none;
}
.bonus_house{
    max-width: 900px;
    width: 46.875%;
    // max-height: 625px;
    // height: 60%;
    // @include pos(0,0,20%,0);
    @include pos(50%,auto,auto,50%);
    transform: translate(-50%,-50%);
    z-index: 1;
}
.CHOCO{
    max-width: 292px;
    width: 32.444444%;
    z-index: -1;
}
.bear{
    @include pos(auto,auto,0,-18.333%);
    transform: rotate(-15deg);
    transition: .5s;
    .bearhand{
        @include pos(-36%,0%,0%,-42%);
        max-width: 140px;
        width: 47.945%;
        transform-origin: 100% 100%;
        transform: rotate(-26deg); //-20 ~ -30
        animation: bearhand 1s infinite alternate;
    }
    .eyeleft{
        @include pos(-12.6712%,0%,0%,-12.3287%);
        max-width: 25px;
        width: 8.5616%;
    }
    .blinkleft{
        @include pos(-31.506%,0%,0%,-6.8493%); //-45
        max-width: 50px;
        width: 17.123%;
        animation: bearblink 5s infinite;
    }
    .bearne{
        position: relative;
    }
}
@keyframes bearhand {
    0%{
        transform: rotate(-20deg);
    }
    100%{
        transform: rotate(-30deg);
    }
}
@keyframes bearblink {
    0%{
        top: -31.506%
    }
    45%{
        top: -31.506%
    }
    50%{
        top: -15.068%
    }
    55%{
        top: -31.506%
    }
    100%{
        top: -31.506%
    }
}
.cake{
    @include pos(auto,-24.6575%,-3%,auto);
    transform: rotate(15deg);
    .cakehand{
        @include pos(-43%,0%,0%,33%);
        max-width: 140px;
        width: 47.945%;
        transform-origin: 0% 100%;
        transform: rotate(15deg); 
        animation: cakehand 1s infinite alternate;
    }
    .eye{
        @include pos(-3.4246%,0%,0%,-38.5891%);
        max-width: 53px;
        width: 18.15%;
    }
    .blink{
        @include pos(-5%,0%,0%,-38%);
        max-width: 55px;
        width: 18.8%;
        max-height: 55px;
        height: 18.8%;
        overflow: hidden;
        img{
            @include pos(-160%,0%,0%,0%); 
            width: 150%;
            animation: cakeblink 6s infinite;
        }
    }
    .cakene{
        position: relative;
    }
}
@keyframes cakehand {
    0%{
        transform: rotate(8deg);
    }
    100%{
        transform: rotate(20deg);
    }
}
@keyframes cakeblink {
    0%{
        top: -160%
    }
    45%{
        top: -160%
    }
    50%{
        top: 7%
    }
    55%{
        top: -160%
    }
    100%{
        top: -160%
    }
}
.cardlist{
    width: 100%;
    max-height: 200px;
    height: 32%;
    @include pos(50%,0,0,1.111%);
    padding: 0 5.55%;
    &::after{
        content: "";
        display: block;
        clear: both;
    }
}
.card{
    max-width: 200px;
    width: 25%;
    float: left;
    margin: 0 4.125%;
    cursor: pointer;
    perspective:400px;
    position: relative;
    figcaption{
        @include pos(0,0,0,0);
        text-align: center;
        font-size: 24px;
        font-weight: bold;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .outtext{
        color: $color_brown;
        -webkit-text-stroke: 5px $color_brown; 
    }
    .innertext{
        color: $color_milk;
    }
}
.card:hover{
    animation: cardmove 1s infinite linear alternate;
}
@keyframes cardmove {
    0%{transform: rotate(-5deg)}
    100%{transform: rotate(5deg)}
}
.front,.back{
    transition: .5s;
    backface-visibility: hidden;
}
.front{
    transform: rotateY(0deg);
}
.back{
    transform: rotateY(180deg);
    @include pos(0,auto,auto,0);
}
.frontshow{
    transform: rotateY(180deg);
}
.backshow{
    transform: rotateY(360deg);
}
.nopointer{
    pointer-events: none;
}
.final{
    max-width: 737px;
    width: 38.385%;
    width: 65%;
    // max-height: 575px;
    // height: 61.36%;
    @include pos(50%,auto,auto,50%);
    transform: translate(-50%,-50%);
    z-index: 1;
    display: none;
    animation: bang .3s forwards;
    p{
        font-size: 40px;
        @include pos(50%,auto,auto,50%);
        transform: translate(-50%,-50%);
        text-align: center;
        color: $color_red;
        span{
            color: $color_red;
        }
    }
}
@keyframes bang {
    0%{
        transform: translate(-50%,-50%) scale(0.1);
    }
    80%{
        transform: translate(-50%,-50%) scale(1.5);
    }
    100%{
        transform: translate(-50%,-50%) scale(1);
    }
}
#board_close{
    width: 29px;
    @include pos(21%,19%,auto,auto);
    cursor: pointer;
    display: none;
}
#again{
    // transform: scale(0.6);
    @include pos(auto,0,23%,-31%);
}
#gostore{
    // transform: scale(0.6);
    @include pos(auto,-33%,23%,0);
}
canvas{
    width: 100%;
    height: auto;
}

@include rwd(desktop){
    #introduce{
        @include pos(32.7%,0,auto,0);
        z-index: 1;
        max-width: 671px;
        width: 34.94%;
        img{
            &:nth-child(1){
                display: none;
            }
            &:nth-child(2){
                display: block;
            }
            &:nth-child(3){
                display: block;
                // @include pos(180px,auto,auto,298px);
                @include pos(29.652585%,auto,auto,44.45441319%);
                max-width: 33px;
                width: 5%;
                animation: keyshow .6s infinite;
            }
            &:nth-child(4){
                display: block;
                @include pos(29.552585%,auto,auto,54.396%);
                max-width: 33px;
                width: 5%;
                animation: keyshow .6s .3s infinite;
            }
        }
    }
    #score{
        top: 21.299%;
        p{
            font-size: 40px;
        }
        p:nth-child(1){
            -webkit-text-stroke: 8px $color_brown;
        }
    }
    #scorenum{
        transform-origin: 0% 50%;
        transform: scale(1.3);
        margin-left: 15px;
    }
    .title_decoration{
        display: block;
    }
    #time{
        p{
            font-size: 48px;
        }
        #outerword{
            -webkit-text-stroke: 8px $color_brown;
        }
    }
    .card{
        figcaption{
            font-size: 48px;
        }
        .outtext{
            -webkit-text-stroke: 8px $color_brown; 
        }
    }
    .final{
        p{
            font-size: 60px;
        }
    }
    #again{
        transform: scale(1);
        @include pos(auto,auto,23%,21%);
    }
    #gostore{
        transform: scale(1);
        @include pos(auto,19%,23%,auto);
    }
}


@media all and (orientation: portrait){
    @media all and (max-width:992px){
        html{
            overflow: auto;
            position: fixed;
        }
        header{
            .m_header{
                .menubox{
                    li{
                        padding: 2% 0;
                    }
                }
            }
        }
        .game_body{
            transform: rotate(90deg);
            width: 100vh;
            height: 100vw;
            transform-origin: 29% 50%;
        }
        .choco_bonus{
            width: 100vh;
            height: 100vw;
        }
        .blackscreen{
            display: flex;
            display: none;
            justify-content: center;
            align-items: center;
            font-size: 10vw;
            width: 100vw;
            height: 100vh;
            background: rgba(0,0,0,.95);
            color: $color_milk;
            position: fixed;
            z-index: 20;
            user-select: none;
        } 

        .game_container{
            position: unset;
            padding: 0;
        }
        .bonus_house{
            top: 25%;
        }
        .final{
            top: 28%;
        }
    }
    @media all and (max-width:768px){
        .game_body{
            transform-origin: 29% 50%;
        }
        @media all and (min-height:1023px) {
            .game_body{
                transform-origin: 38% 50%;
            }   
        }
    }
    @media all and (max-width:375px){
        .game_body{
            transform-origin: 29% 50%;
        }
        @media all and (min-height:811px){
            .game_body{
                transform-origin: 23% 50%;
            }
        }
        #time{
            p{
                letter-spacing: 5px;
            }
        }
    }
}